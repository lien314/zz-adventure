# README
## 项目基本信息
### 项目名称: zz'adventure
- (由于个人喜好，主角为小猪而非小鸭，望见谅)
### OS:
- Windows 11
### IDE:
- Visual Studio 2022
### Language:
- C
### 项目背景:
- zz'adventure是程序设计课程的第一个project，是一款基于字符地图(ASCII Map)的冒险游戏，玩家将扮演一只勇敢的小猪，在二维地图中移动，寻找宝藏。
### 项目功能概述
  - 地图显示: 使用ASCII字符绘制二维地图，用彩色区分玩家位置和环境。
  - 玩家移动: 通过键盘输入控制小猪在地图上的移动。
  - 游戏机制: 实现宝藏技术、路径记录、陷阱体力消耗等机制。
## 核心模块
### menu.c/h:
    - 菜单界面
    - int choice;菜单输入选择
### map.c/h:
	- 从文件加载地图
	- 彩色渲染
	- 玩家移动逻辑
	- 陷阱、宝藏机制
	- 实时模式和编程模式
	- 路径记录与显示
    - char map[MAP_HEIGHT][MAP_WIDTH];int playerX, playerY;存储地图字符（墙、空地、目标点),玩家当前坐标;int level:当前关卡编号，用于选择不同地图文件
### main.c:
	- 关卡选择
## 使用说明
### 启动游戏：
- 编译并运行main.c。
### 控制方式：
- 实时模式：用WASD键控制小猪移动，I原地不动，Q返回菜单。
- 编程模式：输入预设指令序列控制小猪移动。
### 地图符号说明：
- P为玩家控制的小猪，显示为粉色，T为宝藏，显示为亮黄色，D为陷阱，显示为亮红色，W为墙壁，显示为白色，' '为空地。

## 存档与排行榜
- 存档文件：游戏在玩家按 `Q` 退出时会自动把当前进度写入 `save_<mapFile>.dat`，存放于可执行文件所在目录。
- 在关卡选择页面，如果检测到已保存进度，会在菜单中显示“（上次）”并可选择 "加载上次进度" 或 "不加载存档，开始新游戏"。
- 通关后（找到所有宝藏）会自动删除该关卡的存档（不保留通关前的进度）。
- 排行榜文件：每个关卡对应 `leaderboard_<mapFile>.txt`，每条记录为 `<timestamp>\t<name>\t<hp>`，按消耗体力升序显示前 50 名。

## 地图文件格式（.map）
- 首行为：宽度 高度（两个整数），可选第二行为起始坐标 `startX startY`。
- 随后的每行包含以空格分隔的数字表示格子类型：
  - 1 = W (墙)
  - 2 = D (陷阱)
  - 3 = T (宝藏)
  - 0 或其他 = 空地

## 构建与运行
- 使用 Visual Studio 2022 打开 `Project1.sln`（或直接把源文件添加到新建的 Visual C++ 控制台项目中），以 Debug/x64 配置编译并运行。

### 在命令行编译（示例命令）



## 开发备注
- 代码主要分为菜单层（`menu.c`）、游戏逻辑与 IO（`map.c`/`map.h`）以及入口（`main.c`）。
- 存档格式为简单二进制快照，包含时间戳、模式、体力、步数、已找到宝箱数、宽高、玩家位置、下方格子、路径缓冲及地图快照。